<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#214C69"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2025-08-27T16:45:44.892506013"><title>Datas | Learn C#</title><script type="application/json" id="virtual-toc-data">[{"id":"a-fam-lia-de-tipos-de-data-e-hora","level":0,"title":"A Família de Tipos de Data e Hora","anchor":"#a-fam-lia-de-tipos-de-data-e-hora"},{"id":"o-datetime-e-sua-armadilha-datetime-kind","level":0,"title":"O DateTime e sua Armadilha: DateTime.Kind","anchor":"#o-datetime-e-sua-armadilha-datetime-kind"},{"id":"a-solu-o-profissional-datetimeoffset","level":0,"title":"A Solução Profissional: DateTimeOffset","anchor":"#a-solu-o-profissional-datetimeoffset"},{"id":"os-especialistas-dateonly-e-timeonly","level":0,"title":"Os Especialistas: DateOnly e TimeOnly","anchor":"#os-especialistas-dateonly-e-timeonly"},{"id":"convertendo-texto-em-datas-parse","level":0,"title":"Convertendo Texto em Datas (Parse)","anchor":"#convertendo-texto-em-datas-parse"},{"id":"boas-pr-ticas-para-manipula-o-de-datas","level":0,"title":"Boas Práticas para Manipulação de Datas","anchor":"#boas-pr-ticas-para-manipula-o-de-datas"},{"id":"veja-tamb-m-refer-ncias-oficiais","level":0,"title":"Veja Também (Referências Oficiais)","anchor":"#veja-tamb-m-refer-ncias-oficiais"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Datas | Learn C#"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Learn C# Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/dates.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Datas | Learn C#"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/dates.html#webpage",
    "url": "writerside-documentation/dates.html",
    "name": "Datas | Learn C#",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Learn C# Help"
}</script><!-- End Schema.org --></head><body data-id="Dates" data-main-title="Datas" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="Fundamentos"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Learn C#  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Dates" id="Dates.md">Datas</h1><p id="jaoym8_3">Manipular datas e horas &eacute; uma das tarefas mais comuns e, surpreendentemente, uma das mais complexas na programa&ccedil;&atilde;o. Um simples carimbo de data pode esconder armadilhas relacionadas a fusos hor&aacute;rios, formata&ccedil;&atilde;o e performance.</p><p id="jaoym8_4">Este guia vai al&eacute;m do b&aacute;sico do <code class="code" id="jaoym8_12">DateTime</code> e apresenta as ferramentas e pr&aacute;ticas recomendadas para manipular datas e horas em C# de forma profissional e robusta.</p><section class="chapter"><h2 id="a-fam-lia-de-tipos-de-data-e-hora" data-toc="a-fam-lia-de-tipos-de-data-e-hora">A Fam&iacute;lia de Tipos de Data e Hora</h2><p id="jaoym8_13">O .NET oferece uma fam&iacute;lia de tipos para trabalhar com datas e horas. &Eacute; crucial escolher a ferramenta certa para cada trabalho.</p><div class="table-wrapper"><table class="wide" id="jaoym8_14"><thead><tr class="ijRowHead" id="jaoym8_16"><th id="jaoym8_23"><p>Tipo</p></th><th id="jaoym8_24"><p>Descri&ccedil;&atilde;o</p></th><th id="jaoym8_25"><p>Quando Usar</p></th></tr></thead><tbody><tr id="jaoym8_17"><td id="jaoym8_26"><p><code class="code" id="jaoym8_29">DateTime</code></p></td><td id="jaoym8_27"><p>Representa um ponto no tempo, geralmente expresso como uma data e hora do dia.</p></td><td id="jaoym8_28"><p>Usado para necessidades simples, mas pode ser amb&iacute;guo em rela&ccedil;&atilde;o ao fuso hor&aacute;rio.</p></td></tr><tr id="jaoym8_18"><td id="jaoym8_30"><p><code class="code" id="jaoym8_33">DateTimeOffset</code></p></td><td id="jaoym8_31"><p>Representa um ponto no tempo, incluindo um deslocamento (offset) do Tempo Universal Coordenado (UTC).</p></td><td id="jaoym8_32"><p><span class="control" id="jaoym8_34">Recomendado para a maioria dos casos</span>, especialmente em APIs e bancos de dados, pois n&atilde;o &eacute; amb&iacute;guo.</p></td></tr><tr id="jaoym8_19"><td id="jaoym8_35"><p><code class="code" id="jaoym8_38">TimeSpan</code></p></td><td id="jaoym8_36"><p>Representa uma dura&ccedil;&atilde;o ou intervalo de tempo.</p></td><td id="jaoym8_37"><p>Para medir o tempo entre dois pontos ou representar uma quantidade de tempo (ex: 24 horas).</p></td></tr><tr id="jaoym8_20"><td id="jaoym8_39"><p><code class="code" id="jaoym8_42">DateOnly</code></p></td><td id="jaoym8_40"><p>(.NET 6+) Representa apenas a parte da data, sem a hora.</p></td><td id="jaoym8_41"><p>Quando voc&ecirc; s&oacute; precisa do dia, m&ecirc;s e ano (ex: data de nascimento).</p></td></tr><tr id="jaoym8_21"><td id="jaoym8_43"><p><code class="code" id="jaoym8_46">TimeOnly</code></p></td><td id="jaoym8_44"><p>(.NET 6+) Representa apenas a hora do dia, sem a data.</p></td><td id="jaoym8_45"><p>Quando voc&ecirc; s&oacute; precisa da hora (ex: hor&aacute;rio de funcionamento de uma loja).</p></td></tr><tr id="jaoym8_22"><td id="jaoym8_47"><p><code class="code" id="jaoym8_50">TimeZoneInfo</code></p></td><td id="jaoym8_48"><p>Representa um fuso hor&aacute;rio.</p></td><td id="jaoym8_49"><p>Para converter datas e horas entre diferentes fusos hor&aacute;rios.</p></td></tr></tbody></table></div></section><section class="chapter"><h2 id="o-datetime-e-sua-armadilha-datetime-kind" data-toc="o-datetime-e-sua-armadilha-datetime-kind">O <code class="code" id="jaoym8_55">DateTime</code> e sua Armadilha: <code class="code" id="jaoym8_56">DateTime.Kind</code></h2><p id="jaoym8_52">O <code class="code" id="jaoym8_57">DateTime</code> parece simples, mas ele carrega uma propriedade trai&ccedil;oeira chamada <code class="code" id="jaoym8_58">Kind</code>. Ela define como o valor da data deve ser interpretado em rela&ccedil;&atilde;o ao fuso hor&aacute;rio e pode ser de tr&ecirc;s tipos:</p><ul class="list _bullet" id="jaoym8_53"><li class="list__item" id="jaoym8_59"><p id="jaoym8_62"><code class="code" id="jaoym8_63">DateTimeKind.Utc</code>: A data e hora s&atilde;o expressas em Tempo Universal Coordenado. &Eacute; um padr&atilde;o global, o mesmo em todo o mundo.</p></li><li class="list__item" id="jaoym8_60"><p id="jaoym8_64"><code class="code" id="jaoym8_65">DateTimeKind.Local</code>: A data e hora est&atilde;o no fuso hor&aacute;rio local da m&aacute;quina onde o c&oacute;digo est&aacute; rodando. Isso pode variar de servidor para servidor.</p></li><li class="list__item" id="jaoym8_61"><p id="jaoym8_66"><code class="code" id="jaoym8_67">DateTimeKind.Unspecified</code>: O fuso hor&aacute;rio n&atilde;o foi especificado. <span class="control" id="jaoym8_68">Este &eacute; o padr&atilde;o para datas criadas manualmente e a principal fonte de bugs.</span></p></li></ul><section class="chapter"><h3 id="exemplo-de-bug-com-datetimekind-unspecified" data-toc="exemplo-de-bug-com-datetimekind-unspecified">Exemplo de Bug com <code class="code" id="jaoym8_73">DateTimeKind.Unspecified</code></h3><p id="jaoym8_70">Imagine que um usu&aacute;rio no Brasil (UTC-3) agenda uma tarefa para as <code class="code" id="jaoym8_74">14:00</code>. Voc&ecirc; salva isso no banco de dados como <code class="code" id="jaoym8_75">new DateTime(2025, 10, 20, 14, 0, 0)</code>. O <code class="code" id="jaoym8_76">Kind</code> ser&aacute; <code class="code" id="jaoym8_77">Unspecified</code>.</p><p id="jaoym8_71">Um servi&ccedil;o rodando em um servidor na Europa (UTC+1) l&ecirc; essa data. Ao tentar converter para a hora local, o .NET pode assumir que <code class="code" id="jaoym8_78">14:00</code> era a hora local do servidor, e n&atilde;o do usu&aacute;rio. A tarefa que deveria rodar &agrave;s <code class="code" id="jaoym8_79">14:00</code> no Brasil acaba rodando em um hor&aacute;rio completamente diferente.</p><div class="code-block" data-lang="none">
// Kind is DateTimeKind.Unspecified
var unspecifiedTime = new DateTime(2025, 1, 1, 14, 0, 0); 

// This conversion is unreliable because the source Kind is Unspecified.
// The .NET runtime will assume it's a Local time according to the server's timezone.
var convertedTime = unspecifiedTime.ToUniversalTime();

Console.WriteLine($&quot;Original: {unspecifiedTime} (Kind: {unspecifiedTime.Kind})&quot;);
Console.WriteLine($&quot;Converted to UTC: {convertedTime}&quot;); // The result depends on the server's timezone!
</div></section></section><section class="chapter"><h2 id="a-solu-o-profissional-datetimeoffset" data-toc="a-solu-o-profissional-datetimeoffset">A Solu&ccedil;&atilde;o Profissional: <code class="code" id="jaoym8_85">DateTimeOffset</code></h2><p id="jaoym8_81">Para evitar a ambiguidade do <code class="code" id="jaoym8_86">DateTime.Kind</code>, use <code class="code" id="jaoym8_87">DateTimeOffset</code>. Ele armazena a mesma informa&ccedil;&atilde;o que o <code class="code" id="jaoym8_88">DateTime</code>, mas tamb&eacute;m inclui o <span class="control" id="jaoym8_89">offset</span>, que &eacute; a diferen&ccedil;a de tempo em rela&ccedil;&atilde;o ao UTC. Isso torna o momento no tempo absoluto e inequ&iacute;voco.</p><p id="jaoym8_82">Um offset de <code class="code" id="jaoym8_90">-03:00</code> significa &quot;tr&ecirc;s horas a menos que o UTC&quot;.</p><div class="code-block" data-lang="none">
// This object represents an absolute moment in time.
// The offset (-03:00) makes it unambiguous.
var specificMoment = new DateTimeOffset(2025, 8, 16, 15, 0, 0, TimeSpan.FromHours(-3));
Console.WriteLine(specificMoment);

// You can easily convert it to another timezone's offset, for example, India (UTC+5:30)
var indiaTime = specificMoment.ToOffset(TimeSpan.FromMinutes(330));
Console.WriteLine($&quot;Same moment in India: {indiaTime}&quot;);

// And you can always get the pure UTC value
Console.WriteLine($&quot;UTC value: {specificMoment.ToUniversalTime()}&quot;);
</div><p id="jaoym8_84">Com <code class="code" id="jaoym8_91">DateTimeOffset</code>, o momento <code class="code" id="jaoym8_92">16/08/2025 15:00:00 -03:00</code> &eacute; sempre o mesmo, n&atilde;o importa se o servidor que processa essa informa&ccedil;&atilde;o est&aacute; no Brasil, no Jap&atilde;o ou na Lua.</p></section><section class="chapter"><h2 id="os-especialistas-dateonly-e-timeonly" data-toc="os-especialistas-dateonly-e-timeonly">Os Especialistas: <code class="code" id="jaoym8_97">DateOnly</code> e <code class="code" id="jaoym8_98">TimeOnly</code></h2><p id="jaoym8_94">Introduzidos no .NET 6, esses tipos resolvem um problema antigo: a necessidade de carregar uma data e hora completas quando voc&ecirc; s&oacute; precisa de uma parte. Eles s&atilde;o mais eficientes (usam menos mem&oacute;ria) e deixam a inten&ccedil;&atilde;o do seu c&oacute;digo mais clara.</p><section class="chapter"><h3 id="dateonly" data-toc="dateonly"><code class="code" id="jaoym8_102">DateOnly</code></h3><p id="jaoym8_100">Use para representar uma data de calend&aacute;rio. Mapeia perfeitamente para o tipo <code class="code" id="jaoym8_103">date</code> em SQL.</p><div class="code-block" data-lang="none">
// Represents a birth date, time is irrelevant.
var birthDate = new DateOnly(1990, 10, 20);
Console.WriteLine($&quot;Birth date: {birthDate.ToLongDateString()}&quot;);
</div></section><section class="chapter"><h3 id="timeonly" data-toc="timeonly"><code class="code" id="jaoym8_108">TimeOnly</code></h3><p id="jaoym8_105">Use para representar uma hora do dia. Mapeia para o tipo <code class="code" id="jaoym8_109">time</code> em SQL.</p><div class="code-block" data-lang="none">
// Represents the opening time of a store
var openingTime = new TimeOnly(9, 0, 0);
Console.WriteLine($&quot;Store opens at: {openingTime.ToLongTimeString()}&quot;);
</div></section></section><section class="chapter"><h2 id="convertendo-texto-em-datas-parse" data-toc="convertendo-texto-em-datas-parse">Convertendo Texto em Datas (<code class="code" id="jaoym8_113">Parse</code>)</h2><p id="jaoym8_111">Receber datas como strings &eacute; muito comum. Para convert&ecirc;-las em objetos, use os m&eacute;todos <code class="code" id="jaoym8_114">Parse</code> ou <code class="code" id="jaoym8_115">TryParse</code>. A melhor pr&aacute;tica &eacute; ser o mais expl&iacute;cito poss&iacute;vel sobre o formato esperado.</p><section class="chapter"><h3 id="a-forma-mais-segura-tryparseexact" data-toc="a-forma-mais-segura-tryparseexact">A Forma Mais Segura: <code class="code" id="jaoym8_120">TryParseExact</code></h3><p id="jaoym8_117">Para evitar exce&ccedil;&otilde;es (<code class="code" id="jaoym8_121">try-catch</code>), que podem impactar a performance, e garantir que apenas um formato espec&iacute;fico seja aceito, use <code class="code" id="jaoym8_122">TryParseExact</code>. Ele retorna <code class="code" id="jaoym8_123">true</code> se a convers&atilde;o for bem-sucedida e <code class="code" id="jaoym8_124">false</code> caso contr&aacute;rio.</p><div class="code-block" data-lang="none">
using System.Globalization;

var dateString = &quot;2025-08-16&quot;;
var format = &quot;yyyy-MM-dd&quot;;

// We use CultureInfo.InvariantCulture for machine-to-machine communication
// to ensure the format is consistent regardless of system culture.
// DateTimeStyles.None ensures no extra assumptions are made.
if (DateTime.TryParseExact(dateString, format, CultureInfo.InvariantCulture, DateTimeStyles.None, out DateTime parsedDate))
{
    Console.WriteLine($&quot;Successfully parsed: {parsedDate:D}&quot;);
}
else
{
    Console.WriteLine(&quot;Could not parse the date string.&quot;);
}
</div></section></section><section class="chapter"><h2 id="boas-pr-ticas-para-manipula-o-de-datas" data-toc="boas-pr-ticas-para-manipula-o-de-datas">Boas Pr&aacute;ticas para Manipula&ccedil;&atilde;o de Datas</h2><ol class="list _decimal" id="jaoym8_125" type="1"><li class="list__item" id="jaoym8_127"><p id="jaoym8_132"><span class="control" id="jaoym8_133">Prefira <code class="code" id="jaoym8_134">DateTimeOffset</code> a <code class="code" id="jaoym8_135">DateTime</code></span>. Use-o como padr&atilde;o para APIs, bancos de dados e logs. Ele elimina a ambiguidade de fuso hor&aacute;rio e torna seu sistema mais robusto.</p></li><li class="list__item" id="jaoym8_128"><p id="jaoym8_136"><span class="control" id="jaoym8_137">Use <code class="code" id="jaoym8_140">DateTime.UtcNow</code> para Timestamps.</span> Ao registrar quando um evento ocorreu (ex: data de cria&ccedil;&atilde;o de um registro), use sempre <code class="code" id="jaoym8_138">DateTime.UtcNow</code> (ou <code class="code" id="jaoym8_139">DateTimeOffset.UtcNow</code>). O tempo do servidor local &eacute; irrelevante e pode mudar com o hor&aacute;rio de ver&atilde;o ou com a localiza&ccedil;&atilde;o do servidor.</p></li><li class="list__item" id="jaoym8_129"><p id="jaoym8_141"><span class="control" id="jaoym8_142">Use <code class="code" id="jaoym8_143">DateOnly</code> e <code class="code" id="jaoym8_144">TimeOnly</code></span> quando a informa&ccedil;&atilde;o de hora ou data for irrelevante. Isso torna seu modelo de dados mais claro, eficiente e evita bugs relacionados a partes da data que deveriam ser ignoradas.</p></li><li class="list__item" id="jaoym8_130"><p id="jaoym8_145"><span class="control" id="jaoym8_146">Seja Expl&iacute;cito ao Fazer <code class="code" id="jaoym8_151">Parse</code> de Strings.</span> Sempre use <code class="code" id="jaoym8_147">TryParseExact</code>. Para datas de m&aacute;quina para m&aacute;quina (ex: JSON, XML), use <code class="code" id="jaoym8_148">CultureInfo.InvariantCulture</code> e um formato bem definido (como o padr&atilde;o ISO 8601: <code class="code" id="jaoym8_149">yyyy-MM-ddTHH:mm:ssZ</code>). Para datas inseridas por usu&aacute;rios, use a cultura espec&iacute;fica deles (<code class="code" id="jaoym8_150">new CultureInfo(&quot;pt-BR&quot;)</code>).</p></li><li class="list__item" id="jaoym8_131"><p id="jaoym8_152"><span class="control" id="jaoym8_153">Armazene Datas em UTC e Converta na Apresenta&ccedil;&atilde;o.</span> A regra de ouro: seu back-end e seu banco de dados devem viver em UTC. A convers&atilde;o para o fuso hor&aacute;rio do usu&aacute;rio deve ser a &uacute;ltima etapa, realizada pela interface do usu&aacute;rio (UI).</p></li></ol></section><section class="chapter"><h2 id="veja-tamb-m-refer-ncias-oficiais" data-toc="veja-tamb-m-refer-ncias-oficiais">Veja Tamb&eacute;m (Refer&ecirc;ncias Oficiais)</h2><ul class="list _bullet" id="jaoym8_154"><li class="list__item" id="jaoym8_155"><p id="jaoym8_161"><a href="https://learn.microsoft.com/dotnet/api/system.datetime" id="jaoym8_162" data-external="true" rel="noopener noreferrer" target="_blank">Estrutura <code class="code" id="jaoym8_163">DateTime</code></a></p></li><li class="list__item" id="jaoym8_156"><p id="jaoym8_164"><a href="https://learn.microsoft.com/dotnet/api/system.datetimeoffset" id="jaoym8_165" data-external="true" rel="noopener noreferrer" target="_blank">Estrutura <code class="code" id="jaoym8_166">DateTimeOffset</code></a></p></li><li class="list__item" id="jaoym8_157"><p id="jaoym8_167"><a href="https://learn.microsoft.com/dotnet/standard/datetime/dateonly-timeonly" id="jaoym8_168" data-external="true" rel="noopener noreferrer" target="_blank">Estruturas <code class="code" id="jaoym8_169">DateOnly</code> e <code class="code" id="jaoym8_170">TimeOnly</code></a></p></li><li class="list__item" id="jaoym8_158"><p id="jaoym8_171"><a href="https://learn.microsoft.com/dotnet/standard/datetime/choosing-between-datetime-datetimeoffset-and-timezoneinfo" id="jaoym8_172" data-external="true" rel="noopener noreferrer" target="_blank">Escolhendo entre <code class="code" id="jaoym8_173">DateTime</code> e <code class="code" id="jaoym8_174">DateTimeOffset</code></a></p></li><li class="list__item" id="jaoym8_159"><p id="jaoym8_175"><a href="https://learn.microsoft.com/dotnet/standard/base-types/standard-date-and-time-format-strings" id="jaoym8_176" data-external="true" rel="noopener noreferrer" target="_blank">Strings de Formato de Data e Hora Padr&atilde;o</a></p></li><li class="list__item" id="jaoym8_160"><p id="jaoym8_177"><a href="https://learn.microsoft.com/dotnet/standard/base-types/parsing-datetime" id="jaoym8_178" data-external="true" rel="noopener noreferrer" target="_blank">Analisando Strings de Data e Hora em .NET</a></p></li></ul></section><div class="last-modified">17 August 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="string-builder.html" class="navigation-links__prev">StringBuilder: Construindo Strings de Forma Eficiente no C#</a><a href="currency.html" class="navigation-links__next">Valores Monet&aacute;rios</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.js"></script></body></html>