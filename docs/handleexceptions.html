<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#214C69"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2025-08-27T17:33:22.432050692"><title>Tratamento de Exce&ccedil;&otilde;es | Learn C#</title><script type="application/json" id="virtual-toc-data">[{"id":"analogia-o-chef-de-cozinha-cauteloso","level":0,"title":"Analogia: O Chef de Cozinha Cauteloso","anchor":"#analogia-o-chef-de-cozinha-cauteloso"},{"id":"a-estrutura-try-catch-finally","level":0,"title":"A Estrutura try-catch-finally","anchor":"#a-estrutura-try-catch-finally"},{"id":"lan-ando-exce-es-throw","level":0,"title":"Lançando Exceções (throw)","anchor":"#lan-ando-exce-es-throw"},{"id":"refer-ncias-oficiais","level":0,"title":"Referências Oficiais","anchor":"#refer-ncias-oficiais"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Tratamento de Exce&ccedil;&otilde;es | Learn C#"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Learn C# Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/handleexceptions.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Tratamento de Exce&ccedil;&otilde;es | Learn C#"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/handleexceptions.html#webpage",
    "url": "writerside-documentation/handleexceptions.html",
    "name": "Tratamento de Exce&ccedil;&otilde;es | Learn C#",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Learn C# Help"
}</script><!-- End Schema.org --></head><body data-id="HandleExceptions" data-main-title="Tratamento de Exceções" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="Fundamentos///Exceptions.md|Exceções em C#"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Learn C#  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="HandleExceptions" id="HandleExceptions.md">Tratamento de Exceções</h1><p id="z7t36xl_3">Em programa&ccedil;&atilde;o, mesmo o c&oacute;digo mais cuidadosamente escrito pode encontrar problemas inesperados durante a execu&ccedil;&atilde;o. Uma conex&atilde;o de rede pode cair, um arquivo pode n&atilde;o ser encontrado ou um usu&aacute;rio pode inserir dados em um formato inv&aacute;lido. Esses eventos s&atilde;o chamados de <span class="control" id="z7t36xl_8">exce&ccedil;&otilde;es</span>. O C# fornece um mecanismo robusto e estruturado para lidar com esses erros: o tratamento de exce&ccedil;&otilde;es.</p><section class="chapter"><h2 id="analogia-o-chef-de-cozinha-cauteloso" data-toc="analogia-o-chef-de-cozinha-cauteloso">Analogia: O Chef de Cozinha Cauteloso</h2><p id="z7t36xl_9">Imagine um chef de cozinha preparando um prato sofisticado. A execu&ccedil;&atilde;o da receita &eacute; o bloco <code class="code" id="z7t36xl_12">try</code>.</p><ul class="list _bullet" id="z7t36xl_10"><li class="list__item" id="z7t36xl_13"><p id="z7t36xl_16"><span class="control" id="z7t36xl_17"><code class="code" id="z7t36xl_18">try</code></span>: O chef tenta executar os passos da receita. Ele sabe que certas coisas podem dar errado: o molho pode queimar, ou ele pode deixar um prato cair.</p></li><li class="list__item" id="z7t36xl_14"><p id="z7t36xl_19"><span class="control" id="z7t36xl_20"><code class="code" id="z7t36xl_24">catch</code></span>: O chef tem planos de conting&ecirc;ncia. Se o molho queimar (<code class="code" id="z7t36xl_21">catch (SauceBurnedException)</code>), ele sabe exatamente como come&ccedil;ar um novo rapidamente. Se um prato quebrar (<code class="code" id="z7t36xl_22">catch (PlateDroppedException)</code>), ele pega outro. Para qualquer outro desastre inesperado (<code class="code" id="z7t36xl_23">catch (Exception)</code>), seu plano geral &eacute; chamar o subchefe para avaliar a situa&ccedil;&atilde;o.</p></li><li class="list__item" id="z7t36xl_15"><p id="z7t36xl_25"><span class="control" id="z7t36xl_26"><code class="code" id="z7t36xl_28">finally</code></span>: Independentemente de a receita ser um sucesso ou um desastre, a cozinha precisa ser limpa no final do expediente. Esta limpeza &eacute; o bloco <code class="code" id="z7t36xl_27">finally</code>, que sempre acontece.</p></li></ul><p id="z7t36xl_11">Essa abordagem estruturada garante que um pequeno acidente n&atilde;o arru&iacute;ne todo o servi&ccedil;o do jantar. Da mesma forma, o tratamento de exce&ccedil;&otilde;es impede que um erro de execu&ccedil;&atilde;o encerre abruptamente sua aplica&ccedil;&atilde;o.</p></section><section class="chapter"><h2 id="a-estrutura-try-catch-finally" data-toc="a-estrutura-try-catch-finally">A Estrutura <code class="code" id="z7t36xl_35">try-catch-finally</code></h2><p id="z7t36xl_30">A sintaxe para o tratamento de exce&ccedil;&otilde;es em C# envolve as palavras-chave <code class="code" id="z7t36xl_36">try</code>, <code class="code" id="z7t36xl_37">catch</code> e <code class="code" id="z7t36xl_38">finally</code>.</p><div class="code-block" data-lang="csharp">
try
{
    // Code that may throw an exception
}
catch (SpecificExceptionType ex)
{
    // Code to handle the specific exception
}
catch (AnotherExceptionType ex)
{
    // Code to handle another type of exception
}
finally
{
    // Code that will always execute, regardless of whether an exception was thrown
}
</div><section class="chapter"><h3 id="o-bloco-try" data-toc="o-bloco-try">O Bloco <code class="code" id="z7t36xl_41">try</code></h3><p id="z7t36xl_40">Voc&ecirc; deve colocar qualquer c&oacute;digo que tenha o potencial de lan&ccedil;ar uma exce&ccedil;&atilde;o dentro de um bloco <code class="code" id="z7t36xl_42">try</code>. Se uma exce&ccedil;&atilde;o ocorrer em qualquer ponto dentro deste bloco, a execu&ccedil;&atilde;o normal &eacute; interrompida e o Common Language Runtime (CLR) procura por um bloco <code class="code" id="z7t36xl_43">catch</code> compat&iacute;vel.</p></section><section class="chapter"><h3 id="o-bloco-catch" data-toc="o-bloco-catch">O Bloco <code class="code" id="z7t36xl_48">catch</code></h3><p id="z7t36xl_45">Um bloco <code class="code" id="z7t36xl_49">catch</code> &eacute; onde voc&ecirc; lida com o erro. Voc&ecirc; pode ter m&uacute;ltiplos blocos <code class="code" id="z7t36xl_50">catch</code> para um &uacute;nico bloco <code class="code" id="z7t36xl_51">try</code>, cada um projetado para lidar com um tipo espec&iacute;fico de exce&ccedil;&atilde;o.</p><p id="z7t36xl_46">&Eacute; uma pr&aacute;tica recomendada ordenar os blocos <code class="code" id="z7t36xl_52">catch</code> do mais espec&iacute;fico para o mais gen&eacute;rico. Por exemplo, capturar <code class="code" id="z7t36xl_53">FileNotFoundException</code> antes de <code class="code" id="z7t36xl_54">IOException</code>, e <code class="code" id="z7t36xl_55">IOException</code> antes de <code class="code" id="z7t36xl_56">Exception</code>. Se o CLR n&atilde;o encontrar um <code class="code" id="z7t36xl_57">catch</code> espec&iacute;fico para a exce&ccedil;&atilde;o lan&ccedil;ada, ele procurar&aacute; por um <code class="code" id="z7t36xl_58">catch</code> que trate uma classe base da exce&ccedil;&atilde;o.</p><div class="code-block" data-lang="csharp">
public void ReadFile(string filePath)
{
    try
    {
        string content = File.ReadAllText(filePath);
        Console.WriteLine(&quot;File content loaded successfully.&quot;);
    }
    catch (FileNotFoundException ex)
    {
        // Handle the case where the file does not exist
        Console.WriteLine($&quot;Error: The file was not found at '{filePath}'.&quot;);
        Console.WriteLine($&quot;Details: {ex.Message}&quot;);
    }
    catch (IOException ex)
    {
        // Handle other I/O errors (e.g., permission issues)
        Console.WriteLine($&quot;An I/O error occurred: {ex.Message}&quot;);
    }
    catch (Exception ex)
    {
        // Catch any other unexpected exceptions
        Console.WriteLine($&quot;An unexpected error occurred: {ex.Message}&quot;);
        // It's often useful to re-throw if you can't handle it,
        // but only after logging the issue.
        // throw; 
    }
}
</div></section><section class="chapter"><h3 id="o-bloco-finally" data-toc="o-bloco-finally">O Bloco <code class="code" id="z7t36xl_65">finally</code></h3><p id="z7t36xl_60">O bloco <code class="code" id="z7t36xl_66">finally</code> &eacute; opcional, mas extremamente &uacute;til. O c&oacute;digo dentro dele &eacute; <span class="control" id="z7t36xl_67">sempre</span> executado, n&atilde;o importa o que aconte&ccedil;a no bloco <code class="code" id="z7t36xl_68">try</code> ou <code class="code" id="z7t36xl_69">catch</code>. Ele executar&aacute; se:</p><ol class="list _decimal" id="z7t36xl_61" type="1"><li class="list__item" id="z7t36xl_70"><p id="z7t36xl_73">Nenhuma exce&ccedil;&atilde;o ocorrer.</p></li><li class="list__item" id="z7t36xl_71"><p id="z7t36xl_74">Uma exce&ccedil;&atilde;o ocorrer e for capturada por um <code class="code" id="z7t36xl_75">catch</code>.</p></li><li class="list__item" id="z7t36xl_72"><p id="z7t36xl_76">Uma exce&ccedil;&atilde;o ocorrer e n&atilde;o for capturada.</p></li></ol><p id="z7t36xl_62">Isso o torna o local ideal para liberar recursos n&atilde;o gerenciados, como fechar conex&otilde;es de banco de dados, fechar streams de arquivos ou liberar handles de sistema.</p><div class="code-block" data-lang="csharp">
public void ProcessData()
{
    DatabaseConnection conn = new DatabaseConnection();
    try
    {
        conn.Open();
        // Perform database operations...
    }
    catch (DatabaseException ex)
    {
        Console.WriteLine($&quot;A database error occurred: {ex.Message}&quot;);
    }
    finally
    {
        // Ensure the connection is always closed
        if (conn.IsOpen)
        {
            conn.Close();
        }
    }
}
</div><aside class="prompt" data-type="tip" data-title="" id="z7t36xl_64"><p id="z7t36xl_77">A instru&ccedil;&atilde;o <code class="code" id="z7t36xl_78">using</code> em C# fornece uma sintaxe mais conveniente para o mesmo padr&atilde;o de <code class="code" id="z7t36xl_79">try-finally</code> para objetos que implementam a interface <code class="code" id="z7t36xl_80">IDisposable</code>.</p></aside></section></section><section class="chapter"><h2 id="lan-ando-exce-es-throw" data-toc="lan-ando-exce-es-throw">Lan&ccedil;ando Exce&ccedil;&otilde;es (<code class="code" id="z7t36xl_86">throw</code>)</h2><p id="z7t36xl_82">Voc&ecirc; tamb&eacute;m pode lan&ccedil;ar exce&ccedil;&otilde;es manualmente usando a palavra-chave <code class="code" id="z7t36xl_87">throw</code>. Isso &eacute; &uacute;til quando voc&ecirc; detecta uma condi&ccedil;&atilde;o de erro em sua pr&oacute;pria l&oacute;gica de neg&oacute;cios ou quando deseja relan&ccedil;ar uma exce&ccedil;&atilde;o que capturou.</p><div class="code-block" data-lang="csharp">
public void CreateUser(string username)
{
    if (string.IsNullOrWhiteSpace(username))
    {
        // Throw a new exception because the input is invalid
        throw new ArgumentNullException(nameof(username), &quot;Username cannot be null or empty.&quot;);
    }

    // ... logic to create user
}
</div><p id="z7t36xl_84">Ao relan&ccedil;ar uma exce&ccedil;&atilde;o dentro de um bloco <code class="code" id="z7t36xl_88">catch</code>, use <code class="code" id="z7t36xl_89">throw;</code> em vez de <code class="code" id="z7t36xl_90">throw ex;</code>. Usar <code class="code" id="z7t36xl_91">throw;</code> preserva o <span class="emphasis" id="z7t36xl_92">stack trace</span> original da exce&ccedil;&atilde;o, o que &eacute; vital para a depura&ccedil;&atilde;o, pois mant&eacute;m o hist&oacute;rico de onde o erro se originou.</p><div class="code-block" data-lang="csharp">
catch (SomeException ex)
{
    // Log the exception
    _logger.LogError(ex, &quot;An error occurred during some operation.&quot;);
    
    // Re-throw the original exception, preserving the stack trace
    throw;
}
</div></section><section class="chapter"><h2 id="refer-ncias-oficiais" data-toc="refer-ncias-oficiais">Refer&ecirc;ncias Oficiais</h2><p id="z7t36xl_93">Para um estudo mais aprofundado e detalhado, consulte a documenta&ccedil;&atilde;o oficial da Microsoft, que &eacute; a fonte definitiva sobre o assunto.</p><ul class="list _bullet" id="z7t36xl_94"><li class="list__item" id="z7t36xl_95"><p id="z7t36xl_98"><span class="control" id="z7t36xl_99">Vis&atilde;o Geral de Exce&ccedil;&otilde;es e Tratamento de Exce&ccedil;&otilde;es</span>: <a href="https://learn.microsoft.com/pt-br/dotnet/csharp/fundamentals/exceptions/" id="z7t36xl_100" data-external="true" rel="noopener noreferrer" target="_blank">https://learn.microsoft.com/pt-br/dotnet/csharp/fundamentals/exceptions/</a></p></li><li class="list__item" id="z7t36xl_96"><p id="z7t36xl_101"><span class="control" id="z7t36xl_102">Instru&ccedil;&otilde;es de Tratamento de Exce&ccedil;&otilde;es (<code class="code" id="z7t36xl_104">try-catch</code>, <code class="code" id="z7t36xl_105">try-finally</code>, <code class="code" id="z7t36xl_106">try-catch-finally</code>, <code class="code" id="z7t36xl_107">throw</code>)</span>: <a href="https://learn.microsoft.com/pt-br/dotnet/csharp/language-reference/statements/exception-handling-statements" id="z7t36xl_103" data-external="true" rel="noopener noreferrer" target="_blank">https://learn.microsoft.com/pt-br/dotnet/csharp/language-reference/statements/exception-handling-statements</a></p></li><li class="list__item" id="z7t36xl_97"><p id="z7t36xl_108"><span class="control" id="z7t36xl_109">Melhores Pr&aacute;ticas para Exce&ccedil;&otilde;es</span>: <a href="https://learn.microsoft.com/pt-br/dotnet/standard/exceptions/best-practices-for-exceptions" id="z7t36xl_110" data-external="true" rel="noopener noreferrer" target="_blank">https://learn.microsoft.com/pt-br/dotnet/standard/exceptions/best-practices-for-exceptions</a></p></li></ul></section><div class="last-modified">27 August 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="exceptions.html" class="navigation-links__prev">Exce&ccedil;&otilde;es em C#</a><a href="trycatchstatement.html" class="navigation-links__next">A Estrutura try-catch</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.js"></script></body></html>